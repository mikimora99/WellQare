<div id="cookie-banner" class="cookie-banner" role="dialog" aria-live="polite">
  <div>
    <strong style="color:#0f172a">Cookies</strong>
    <p style="color:#64748b; margin-top:4px">
      Usamos cookies para mejorar tu experiencia. Puedes aceptar o rechazar.
      <a href="/politica-de-cookies" style="text-decoration:underline;text-underline-offset:3px;color:#1677ff;font-weight:700">
        Ver política de cookies
      </a>.
    </p>
  </div>

  <div class="cookie-actions">
    <button class="btn btn-sm" data-cookie="reject" type="button">Rechazar</button>
    <button class="btn btn-sm btn-primary" data-cookie="accept" type="button">Aceptar</button>
  </div>
</div>

<script is:inline>
  const KEY = "wellqare_cookie_consent";
  const banner = document.getElementById("cookie-banner");
  const saved = localStorage.getItem(KEY);

  if (saved && banner) banner.style.display = "none";

  banner?.addEventListener("click", (e) => {
    const btn = e.target.closest("[data-cookie]");
    if (!btn) return;

    const v = btn.getAttribute("data-cookie") === "accept" ? "accepted" : "rejected";
    localStorage.setItem(KEY, v);
    banner.style.display = "none";

    // Opcional: aquí en el futuro puedes disparar GA4/Pixel solo si accepted
    // window.WELLQARE_COOKIES = v;
  });
</script>
